# usersAuthentication

usersAuthentication — это backend-приложение на Django, реализующее собственную систему аутентификации и авторизации пользователей.
Основные возможности включают регистрацию, вход и выход из системы, обновление профиля, мягкое удаление (soft delete) аккаунта, а также разграничение прав доступа с использованием ролей и разрешений.
Проект предназначен для демонстрации базовой архитектуры управления пользователями и доступом к ресурсам.


# Установка и запуск

1) Клонируйте проект или распакуйте архив:
git clone https://github.com/yourusername/usersAuthentication.git
cd usersAuth

2) Создайте и активируйте виртуальное окружение
python -m venv venv
source venv/bin/activate        # для Linux/MacOS
venv\Scripts\activate           # для Windows

3) Выгрузите БД - usersAuth.db и настройте между приложением и БД связь:
DB_NAME=usersAuth
DB_USER=postgres
DB_PASSWORD=<--ВАШ ПАРОЛЬ-->
DB_HOST=localhost
DB_PORT=5432

4) Сделайте миграции:
python manage.py migrate

5) Создайте суперюзера:
python manage.py createsuperuser

6) Запустите готовое приложение:
python manage.py runserver
Ссылка: http://127.0.0.1:8000/


# Основной функционал аутентификации и авторизации

1) Регистрация пользователя
URL: /register/
Метод: POST
Описание: создаёт нового пользователя по введённым данным (ФИО, email, пароль, повтор пароля).

2) Авторизация (Login)
URL: /login/
Метод: POST
Описание: вход пользователя в систему по email и паролю.
После успешного входа создаётся сессия, по которой пользователь идентифицируется в последующих запросах.

3) Logout
URL: /logout/
Метод: POST
Описание: завершает текущую сессию пользователя.

4) Обновление профиля
URL: /update/
Метод: POST
Описание: позволяет изменить имя, почту и пароль.

5) Удаление (Soft Delete)
URL: /delete/
Метод: POST
Описание: помечает аккаунт как неактивный (is_active=False) и выполняет logout.
После удаления пользователь не сможет войти в систему.


# Основной функционал проверки прав доступа

Есть несколько таблиц:
- Role (Админ, Менеджер, Стажер, Гость);
- Permission (update_goods, delete_goods, select_goods);
- RolePermission (связь между ролями и разрешениями);
- UserRole (связь между пользователем и его ролью).

В виде тестовой таблицы была создана Goods с полями: Name и Description.
По пути /access_page/ располагается страница с данными таблицы. У каждого поля есть 2 кнопки: "Редактировать" и "Удалить".
Сами кнопки являются фиктивными, только для проверки прав пользователя.

При:
1) Входе на страницу без права select_goods - данные не будут отображаться

2) Нажатии любой из фиктивных кнопок будут в соответствии проверяться права update_goods и delete_goods (появится уведомление вверху экрана с результатом)


# Панель администратора

После создания суперпользователя доступна стандартная Django-админ панель по адресу:
http://127.0.0.1:8000/admin/

Здесь можно управлять пользователями, ролями и правами доступа.


# Завершение работы

Чтобы остановить сервер, нажмите Ctrl + C.
Чтобы выйти из виртуального окружения, выполните:
deactivate
